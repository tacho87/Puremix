<layout>main</layout>

<loader>
  async function loadPage(request) {
    const { year, month, slug } = request.params;

    return {
      data: {
        year: year,
        month: month,
        slug: slug,
        post: {
          title: slug.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' '),
          date: `${year}-${month.padStart(2, '0')}-01`,
          author: 'Test Author',
          content: `This is a blog post from ${month}/${year} with slug: ${slug}`
        },
        routeType: 'multiple-dynamic-params'
      }
    };
  }
</loader>

<div style="padding: 20px;">
  <h1>{loadPage.data.post.title}</h1>

  <div style="background: #fff3e0; padding: 15px; border-radius: 8px; margin: 20px 0;">
    <h2>Route Testing: Multiple Dynamic Parameters</h2>
    <p><strong>File:</strong> /app/routes/blog/[year]/[month]/[slug].puremix</p>
    <p><strong>Pattern:</strong> /blog/:year/:month/:slug</p>
    <p><strong>Current Route:</strong> /blog/{loadPage.data.year}/{loadPage.data.month}/{loadPage.data.slug}</p>
  </div>

  <div style="margin: 20px 0;">
    <p><strong>Published:</strong> {loadPage.data.post.date}</p>
    <p><strong>Author:</strong> {loadPage.data.post.author}</p>
    <div style="margin-top: 15px; padding: 15px; background: #f5f5f5; border-radius: 4px;">
      <p>{loadPage.data.post.content}</p>
    </div>
  </div>

  <div style="margin-top: 30px;">
    <h3>Test Other Blog Posts:</h3>
    <ul>
      <li><a href="/blog/2024/01/introduction-to-puremix">Jan 2024: Introduction to PureMix</a></li>
      <li><a href="/blog/2024/03/advanced-routing-patterns">Mar 2024: Advanced Routing Patterns</a></li>
      <li><a href="/blog/2023/12/year-end-review">Dec 2023: Year End Review</a></li>
      <li><a href="/blog/2025/06/future-of-web-development">Jun 2025: Future of Web Development</a></li>
    </ul>
  </div>
</div>
